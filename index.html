<!doctype html>
<html lang="en">
<head>
  <meta charset="utf-8" />
  <title>GHG · Asia-Focused Story</title>
  <meta name="viewport" content="width=device-width, initial-scale=1" />
  <link rel="preconnect" href="https://cdn.jsdelivr.net" crossorigin>
  <link rel="stylesheet" href="./styles.css?v=5" />
</head>
<body>
  <main class="wrap">
    <header class="top">
      <h1>Greenhouse Gas Emissions · From Global View to Asian Subregions</h1>
      <p class="sub">
        We start with a global view of gas emissions by continent, then zoom into Asian subregions and industries
        to see which areas and sectors drive the largest footprints.
      </p>
    </header>

    <!-- 1. Global continents line chart -->
    <section class="card">
      <div class="header">
        <h2>Global Gas Emissions by Continent: Asia Leads Across All Gas Types</h2>
        <div>
          <label for="gasDropdown">Gas Type:</label>
          <select id="gasDropdown"></select>
        </div>
      </div>
      <svg id="chartContinent" viewBox="0 0 960 500" preserveAspectRatio="xMidYMid meet"></svg>
      <p class="note">
        This chart shows total annual greenhouse gas emissions by continent. Asia stands out as the largest emitter
        across gas types, motivating a closer look at how emissions are distributed within Asia.
      </p>
    </section>

    <!-- 2. Asian subregions streamgraph -->
    <section class="card">
      <div class="header">
        <h2>Gas Emissions in Asian Subregions — Streamgraph</h2>
        <label>Gas Type:
          <select id="gasDropdownSubregion"></select>
        </label>
      </div>
      <svg id="streamSubregion" viewBox="0 0 960 500" preserveAspectRatio="xMidYMid meet"></svg>
      <p class="note">
        The streamgraph shows how total emissions are distributed across Asian subregions over time.
        Eastern Asia dominates most gas types, while Southern Asia is more prominent for certain gases
        such as fluorinated gases.
      </p>
    </section>

    <!-- 3. Radial stacked bars for Asian subregions × industries -->
    <section class="card">
      <div class="header">
        <h2>Asian Subregions · Industry Composition (Radial Stacked Bars)</h2>
        <div id="radialControls" class="mini-controls">
          <button id="radialPlay">Play</button>
          <button id="radialPause">Pause</button>
        </div>
      </div>

      <div id="radialLegend" class="legend"></div>
      <svg id="chartRadialAsia" viewBox="0 0 720 720" preserveAspectRatio="xMidYMid meet"></svg>
      <p class="note">
        Each arc represents an Asian subregion. The radius encodes total greenhouse gas emissions for that year,
        while colors show how much each industry contributes within that subregion.
        Use Play to step through years automatically and compare how different subregions grow over time.
      </p>
    </section>

    <!-- 4. Horizontal stacked bars for Asian subregions × industries -->
    <section class="card">
      <div class="header">
        <h2>Asian Subregions · Industry Composition (Stacked Bars)</h2>
        <div id="asiaBarControls" class="mini-controls">
          <button id="asiaBarPlay">Play</button>
          <button id="asiaBarPause">Pause</button>
        </div>
      </div>

      <div id="asiaBarLegend" class="legend"></div>
      <svg id="asiaBarChart" viewBox="0 0 900 420" preserveAspectRatio="xMidYMid meet"></svg>
      <p class="note">
        Each bar represents an Asian subregion. Bar length shows total greenhouse gas emissions for that year,
        while colors show how much each industry contributes within the subregion. Use Play to step through years
        automatically and compare how the composition and scale change across time.
      </p>
    </section>

    <!-- 5. Heatmap: industry × Asian subregions -->
    <section class="card">
      <div class="header">
        <h2>Emissions Hotspots · Industries × Asian Subregions (Greenhouse Gas)</h2>
        <div>
          <label for="heatmapYear">Year:</label>
          <select id="heatmapYear"></select>
        </div>
      </div>
      <svg id="heatmapIndustries" viewBox="0 0 960 420" preserveAspectRatio="xMidYMid meet"></svg>
      <p class="note">
        Each cell shows total greenhouse gas emissions (MtCO₂e) for an industry–Asian subregion pair.
        Darker squares indicate sectors that dominate that subregion’s footprint in the selected year.
      </p>
    </section>

  </main>

  <div id="tooltip" class="tooltip" style="opacity:0"></div>

  <script src="https://cdn.jsdelivr.net/npm/d3@7"></script>
  <script defer src="./app.js"></script>
  <script defer src="./radial_asia.js"></script>
  <script defer src="./asia_bar.js"></script>
  <script defer src="./heatmap.js"></script>
</body>
</html>